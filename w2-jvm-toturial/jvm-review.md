#### 1. 常见垃圾回收器

垃圾回收器用于销毁无用对象，常见的回收算法有：引用计数（不能解决循环引用）、标记清除（会产生内存碎片）、标记复制（无内存碎片，内存浪费）、标记整理（无碎片、回收速度慢）, 基于上面这些算法，产生了下面几种常见垃圾回收器

串行  `GC`：对年轻代使用标记-复制算法，对老年代使用标记-清除-整理算法；两者都是单线程，不能并行处理，都会触发`STW`，不适合多核CPU

并行 `GC`：对年轻代使用标记-复制算法，对老年代使用标记-清除-整理算法，年轻和老年代的垃圾回收都会触发`STW`。`GC`期间所有的CPU内核都在并行进行垃圾回收，总暂停时间短. Java 8 默认的垃圾回收器。

`CMS`：对年轻代使用标记-复制算法，对老年代使用标记-清除算法。设计目的是尽量减少老年代的暂停时间（并行`GC`一次暂停时间较长，所有线程都用来做`GC`，影响业务线程），会产生内存碎片。

`G1`：垃圾优先，哪一块垃圾最多就先清理它，将`STW`的停顿的时间和分布，变成可预期和可配置的，`GC`堆部分老年和年轻代，而是region

`ZGC/Shenaddoah GC`: 年轻和老年代都可以做到`GC`操作和业务并行处理，大大减少`STW`时间

每种回收器都是根据之前的不足进行演化的，具体演进路线是串行->并发->并行（减少`GC`对业务线程影响，即减少`STW`时间）

#### 2. 堆内存

堆内存分为：`java`堆（对象实例、成员变量）、虚拟机栈、方法区（常量、静态变量）、本地方法栈、程序计数器；其中方法区和`java`堆是上的数据是所有线程共享的，虚拟机栈（局部变量），本地方法栈和程序计数器上的数据是线程私有的。